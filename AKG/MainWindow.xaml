<Window x:Class="AKG.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="3D Obj Viewer - High Performance" 
        WindowState="Normal" 
        WindowStartupLocation="CenterScreen"
        KeyDown="Window_KeyDown" 
        Focusable="True">
    
    <Window.Resources>
        <Style TargetType="Button">
            <Setter Property="Padding" Value="10,5"/>
            <Setter Property="MinWidth" Value="40"/>
            <Setter Property="Margin" Value="2"/>
        </Style>
    </Window.Resources>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        <WrapPanel Grid.Row="0" HorizontalAlignment="Center" Margin="0,10">
            <Button Name="BtnOpenFile" Click="LoadFile_OnClick" MinWidth="100">Open file</Button>
            
            <StackPanel Orientation="Horizontal" Margin="10,0">
                <TextBlock VerticalAlignment="Center" Margin="5,0">Zoom:</TextBlock>
                <Button Name="BtnZoomIn" Click="BtnZoomIn_Click">+</Button>
                <Button Name="BtnZoomOut" Click="BtnZoomOut_Click">-</Button>
                
                <TextBlock VerticalAlignment="Center" Margin="10,0,5,0">Move:</TextBlock>
                <Button Name="BtnUp" Click="BtnUp_Click">↑</Button>
                <StackPanel>
                    <Button Name="BtnLeft" Click="BtnLeft_Click">←</Button>
                    <Button Name="BtnRight" Click="BtnRight_Click">→</Button>
                </StackPanel>
                <Button Name="BtnDown" Click="BtnDown_Click">↓</Button>
                
                <Button Name="BtnReset" Click="BtnReset_Click" Margin="10,0,0,0" MinWidth="80">Reset</Button>
            </StackPanel>
        </WrapPanel>
        
        <Border Grid.Row="1" Background="Black" 
                MouseDown="ImagePanel_MouseDown"
                MouseMove="ImagePanel_MouseMove"
                MouseUp="ImagePanel_MouseUp"
                MouseWheel="ImagePanel_MouseWheel"
                Focusable="True">
            <Image x:Name="ImgDisplay" Stretch="Uniform" 
                   HorizontalAlignment="Stretch" 
                   VerticalAlignment="Stretch"/>
        </Border>
        
        <TextBlock Grid.Row="1" VerticalAlignment="Bottom" HorizontalAlignment="Right"
                   Margin="10" Foreground="White" Background="#80000000" Padding="5">
            <Run>Controls:</Run><LineBreak/>
            <Run>Mouse drag - Rotate</Run><LineBreak/>
            <Run>Wheel - Zoom</Run><LineBreak/>
            <Run>WASD - Move</Run><LineBreak/>
            <Run>R - Reset view</Run><LineBreak/>
            <Run>F11 - Fullscreen toggle</Run>
        </TextBlock>
    </Grid>
</Window>